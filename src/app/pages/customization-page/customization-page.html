<div class="customization-container">
  <div class="ui-overlay">
    <div class="header-section">
      <h1 class="page-title">SPARTAN APPEARANCE</h1>
      <div class="separator"></div>
    </div>

    <div class="controls-panel">
      <!-- PRIMARY -->
      <div class="color-section">
        <h2 class="section-label">PRIMARY ARMOR COLOR</h2>
        <div class="color-grid">
          @for (c of colors; track $index) {
            <button
              class="color-swatch-btn"
              [style.background]="c.hex"
              [class.selected]="primaryHex() === c.hex.toLowerCase()"
              (click)="setPrimaryHex(c.hex)"
              [title]="c.name"
            >
              <div class="selection-marker"></div>
            </button>
          }
        </div>
        <div class="current-color-info">
          CURRENT: <span class="color-name">{{primaryHex()}}</span>
        </div>
      </div>

      <!-- SECONDARY -->
      <div class="color-section">
        <h2 class="section-label">SECONDARY ARMOR COLOR</h2>
        <div class="color-grid">
          @for (c of colors; track $index) {
            <button
              class="color-swatch-btn"
              [style.background]="c.hex"
              [class.selected]="secondaryHex() === c.hex.toLowerCase()"
              (click)="setSecondaryHex(c.hex)"
              [title]="c.name"
            >
              <div class="selection-marker"></div>
            </button>
          }
        </div>
        <div class="current-color-info">
          CURRENT: <span class="color-name">{{secondaryHex()}}</span>
        </div>
      </div>
    </div>

    <div class="footer-instructions">
      <div class="instruction">
        <span class="key-icon">A</span> SELECT COLOR
      </div>
      <div class="instruction">
        <span class="key-icon">B</span> BACK
      </div>
    </div>
  </div>

  <div class="preview-viewport">
    <ngt-canvas [camera]="{ position: [0, 1.2, 3], fov: 45 }" shadows>
      <app-scene-component
        *canvasContent
        [primaryColor]="primaryColor()"
        [secondaryColor]="secondaryColor()"
      />
    </ngt-canvas>
  </div>
</div>

